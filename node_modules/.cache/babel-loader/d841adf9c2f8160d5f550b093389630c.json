{"ast":null,"code":"var _jsxFileName = \"/Users/tnluser/Desktop/workspace/oslash/src/components/Share/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { ButtonWithIcon } from \"../../common/Button\";\nimport Card from \"../../common/Card\";\nimport { FaShareAlt } from 'react-icons/fa';\nimport \"./index.css\";\nimport Dropdown from '../../common/Dropdown';\nimport CardFooter from \"./Footer\";\nimport CardHeader from \"./Header\";\nimport SharedMember from \"./SharedMember\";\nimport { users, sharedData } from \"../../models/users\";\nimport { _userToDropdown, _userToShareMember } from \"../../transforms\";\nimport { ShareProvider, useShareContext } from \"./ShareContext\";\nimport SharedMembers from \"./SharedMembers\";\nimport SearchFooterComponent from \"./SearchFooterComponent\";\nimport PersonOptionComponent from \"./PersonOptionComponent\";\nimport GroupOptionComponent from \"./GroupOptionComponent\"; // const PersonOptionComponent = ({\n//     option,\n//     isSelected=false,\n//     onItemClick\n// }) => {\n//     return (<div \n//                 key={option.value} \n//                 onClick={() => onItemClick(option)} \n//                 className={`dropdown-item-person ${isSelected && \"selected\"}`}\n//             >\n//                 <img  src={option.imageUrl}  className=\"profile-image\" />\n//                 <span>{option.label}</span>\n//                 {/* <div>check</div> */}\n//         </div>) \n// }\n// const GroupOptionComponent = ({\n//     option,\n//     isSelected=false,\n//     onItemClick\n// }) => {\n//     return <div \n//                 key={option.value} \n//                 onClick={() => onItemClick(option)} \n//                 className={`dropdown-item-person ${isSelected && \"selected\"}`}\n//             >\n//                 <div className=\"dropdown-item-legend\">\n//                     {\n//                         <span>{option.label[0]}</span>\n//                     }\n//                 </div>\n//                 <span>\n//                     {\n//                         option.label\n//                     }\n//                 </span>\n//         </div>  \n// }\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Share(_ref) {\n  _s();\n\n  let {} = _ref;\n  const [showShareCard, setShowShareCard] = useState(false);\n  useEffect(() => {\n    // we will call APIs and set the data \n    // setting data can happen in service layer I am diretly setting from here for assignments sake\n    setSharedUsers(sharedData);\n    setAllUsers(users);\n  }, []);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const {\n    sharedUsers,\n    allUsers,\n    setSharedUsers,\n    setAllUsers\n  } = useShareContext();\n\n  const options = _userToDropdown(allUsers);\n\n  options.map(option => {\n    if ((option === null || option === void 0 ? void 0 : option.group) === \"person\") {\n      return option.renderer = PersonOptionComponent;\n    } else if ((option === null || option === void 0 ? void 0 : option.group) === \"group\") {\n      return option.renderer = GroupOptionComponent;\n    }\n  });\n\n  const handleInvite = () => {\n    console.log(\"Call Invite Api\");\n    let temp = [];\n\n    for (let i = 0; i < selectedUsers.length; i++) {\n      for (let j = 0; j < allUsers.length; j++) {\n        if (selectedUsers[i].id === allUsers[j].id) {\n          temp.push(allUsers[j]);\n        }\n      }\n    }\n\n    console.log(\"TEMp \", temp);\n    setSharedUsers([...sharedUsers, ...temp]);\n    setSelectedUsers([]);\n  };\n\n  const onUserSelect = function () {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    console.log(\"Selected Users\", data);\n    setSelectedUsers(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ButtonWithIcon, {\n      onClick: () => setShowShareCard(showShareCard => {\n        return !showShareCard;\n      }),\n      classNames: \"share-button\",\n      title: 'Share',\n      IconComponent: /*#__PURE__*/_jsxDEV(FaShareAlt, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 70\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), showShareCard && /*#__PURE__*/_jsxDEV(Card, {\n      style: {\n        width: '512px'\n      },\n      header: {\n        component: /*#__PURE__*/_jsxDEV(CardHeader, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 28\n        }, this)\n      },\n      footer: {\n        component: /*#__PURE__*/_jsxDEV(CardFooter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 28\n        }, this)\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(Dropdown, {\n          isMulti: true,\n          placeHolder: \"People emails and groups\",\n          options: options,\n          isSearchable: true,\n          enableGrouping: true,\n          value: selectedUsers,\n          footerComponent: /*#__PURE__*/_jsxDEV(SearchFooterComponent, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 126,\n            columnNumber: 38\n          }, this),\n          showCaretIcon: false,\n          rightCtaProps: {\n            onClick: handleInvite,\n            text: 'Invite',\n            visible: true\n          },\n          onChange: onUserSelect\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 119,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(SharedMembers, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 12\n  }, this);\n}\n\n_s(Share, \"RHxphXhlNt11vcViRZgAEBSJoEQ=\", false, function () {\n  return [useShareContext];\n});\n\n_c = Share;\n\nconst ExportWrapper = () => {\n  return /*#__PURE__*/_jsxDEV(ShareProvider, {\n    children: /*#__PURE__*/_jsxDEV(Share, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 12\n  }, this);\n};\n\n_c2 = ExportWrapper;\nexport default ExportWrapper;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Share\");\n$RefreshReg$(_c2, \"ExportWrapper\");","map":{"version":3,"names":["React","useEffect","useState","ButtonWithIcon","Card","FaShareAlt","Dropdown","CardFooter","CardHeader","SharedMember","users","sharedData","_userToDropdown","_userToShareMember","ShareProvider","useShareContext","SharedMembers","SearchFooterComponent","PersonOptionComponent","GroupOptionComponent","Share","showShareCard","setShowShareCard","setSharedUsers","setAllUsers","selectedUsers","setSelectedUsers","sharedUsers","allUsers","options","map","option","group","renderer","handleInvite","console","log","temp","i","length","j","id","push","onUserSelect","data","width","component","onClick","text","visible","ExportWrapper"],"sources":["/Users/tnluser/Desktop/workspace/oslash/src/components/Share/index.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {ButtonWithIcon} from \"../../common/Button\";\nimport Card from \"../../common/Card\";\nimport { FaShareAlt } from 'react-icons/fa';\nimport \"./index.css\";\nimport Dropdown from '../../common/Dropdown';\nimport CardFooter from \"./Footer\";\nimport CardHeader from \"./Header\";\nimport SharedMember from \"./SharedMember\";\nimport {users, sharedData} from \"../../models/users\";\nimport { _userToDropdown, _userToShareMember } from \"../../transforms\";\nimport { ShareProvider, useShareContext } from \"./ShareContext\";\nimport SharedMembers from \"./SharedMembers\";\nimport SearchFooterComponent from \"./SearchFooterComponent\";\nimport PersonOptionComponent from \"./PersonOptionComponent\";\nimport GroupOptionComponent from \"./GroupOptionComponent\";\n\n\n// const PersonOptionComponent = ({\n//     option,\n//     isSelected=false,\n//     onItemClick\n// }) => {\n//     return (<div \n//                 key={option.value} \n//                 onClick={() => onItemClick(option)} \n//                 className={`dropdown-item-person ${isSelected && \"selected\"}`}\n//             >\n//                 <img  src={option.imageUrl}  className=\"profile-image\" />\n//                 <span>{option.label}</span>\n//                 {/* <div>check</div> */}\n//         </div>) \n// }\n\n// const GroupOptionComponent = ({\n//     option,\n//     isSelected=false,\n//     onItemClick\n// }) => {\n//     return <div \n//                 key={option.value} \n//                 onClick={() => onItemClick(option)} \n//                 className={`dropdown-item-person ${isSelected && \"selected\"}`}\n//             >\n//                 <div className=\"dropdown-item-legend\">\n//                     {\n//                         <span>{option.label[0]}</span>\n//                     }\n//                 </div>\n//                 <span>\n//                     {\n//                         option.label\n//                     }\n//                 </span>\n//         </div>  \n// }\n\n\nfunction Share({}) {\n    const [showShareCard, setShowShareCard] = useState(false);\n    useEffect(() => {\n        // we will call APIs and set the data \n        // setting data can happen in service layer I am diretly setting from here for assignments sake\n        setSharedUsers(sharedData);\n        setAllUsers(users);\n    }, [])\n\n    const [selectedUsers, setSelectedUsers] = useState([]);\n\n    const {sharedUsers, allUsers, setSharedUsers, setAllUsers} = useShareContext();\n\n    const options = _userToDropdown(allUsers);\n    options.map((option) => {\n        if (option?.group === \"person\") {\n            return option.renderer = PersonOptionComponent;\n        } else if (option?.group === \"group\") {\n            return option.renderer = GroupOptionComponent;\n        }\n    })\n\n    const handleInvite = () => {\n        console.log(\"Call Invite Api\");\n        let temp = [];\n        for (let i=0;i<selectedUsers.length;i++) {\n            for (let j=0;j<allUsers.length;j++) {\n                if (selectedUsers[i].id === allUsers[j].id) {\n                    temp.push(allUsers[j]);\n                }\n            }\n        }\n        console.log(\"TEMp \", temp);\n        setSharedUsers([...sharedUsers, ...temp]);\n        setSelectedUsers([]);\n    }\n\n    const onUserSelect = (data = []) => {\n        console.log(\"Selected Users\", data);\n        setSelectedUsers(data);\n    }\n\n    return <div>\n        <ButtonWithIcon onClick={() => setShowShareCard((showShareCard) => {\n            return !showShareCard;\n        })} classNames=\"share-button\" title={'Share'} IconComponent={<FaShareAlt />}/>\n        {\n            showShareCard &&\n            <Card\n                style={{\n                    width: '512px',\n                }}\n            header={{\n                component: <CardHeader />\n            }}\n            footer= {{\n                component: <CardFooter />,\n            }}\n            >\n            <div>\n                <Dropdown \n                    isMulti={true}\n                    placeHolder={\"People emails and groups\"}\n                    options={options}\n                    isSearchable={true}\n                    enableGrouping\n                    value={selectedUsers}\n                    footerComponent={<SearchFooterComponent />}\n                    showCaretIcon={false}\n                    rightCtaProps={{\n                        onClick:handleInvite,\n                        text: 'Invite',\n                        visible: true,\n                    }}\n                    onChange={onUserSelect}\n                />\n            </div>\n            <SharedMembers />\n            </Card>\n        }\n        \n    </div>\n}\n\n\nconst ExportWrapper = () => {\n    return <ShareProvider>\n        <Share />\n    </ShareProvider>\n}\n\nexport default ExportWrapper;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}