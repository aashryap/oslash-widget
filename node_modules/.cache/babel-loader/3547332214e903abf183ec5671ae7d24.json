{"ast":null,"code":"var _jsxFileName = \"/Users/tnluser/Desktop/workspace/oslash/src/components/Share/SharedMembers.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useShareContext } from \"./ShareContext\";\nimport { _userToShareMember } from \"../../transforms\";\nimport SharedMember from './SharedMember';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SharedMembers() {\n  _s();\n\n  const {\n    sharedUsers,\n    setSharedUsers,\n    allUsers,\n    setAllUsers\n  } = useShareContext();\n  useEffect(() => {\n    console.log(\"all users \", allUsers);\n  }, [allUsers]);\n\n  const onPermissionChange = (val, userId) => {\n    console.log(val, userId); // call update permission API\n\n    let sharedUserTemp = [];\n    sharedUserTemp = sharedUsers.map(su => {\n      if (su.id === userId) {\n        su.permission = val.value;\n      }\n\n      return su;\n    });\n    setSharedUsers(temp);\n    let allUsersTemp = [];\n    allUsersTemp = allUsers.map(user => {\n      if (user.id === userId) {\n        user.permission = val.value;\n      }\n\n      return user;\n    });\n    setAllUsers(allUsersTemp);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginBottom: '40px'\n    },\n    children: _userToShareMember(sharedUsers).map(user => {\n      return /*#__PURE__*/_jsxDEV(SharedMember, {\n        permission: user.permission,\n        onPermissionChange: val => onPermissionChange(val, user.id),\n        text: user.text,\n        subText: user.subText\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 32\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 13\n  }, this);\n}\n\n_s(SharedMembers, \"dUywrF9RXYc0VrZAv3wT8d3oRTE=\", false, function () {\n  return [useShareContext];\n});\n\n_c = SharedMembers;\nexport default SharedMembers;\n\nvar _c;\n\n$RefreshReg$(_c, \"SharedMembers\");","map":{"version":3,"names":["React","useEffect","useShareContext","_userToShareMember","SharedMember","SharedMembers","sharedUsers","setSharedUsers","allUsers","setAllUsers","console","log","onPermissionChange","val","userId","sharedUserTemp","map","su","id","permission","value","temp","allUsersTemp","user","marginBottom","text","subText"],"sources":["/Users/tnluser/Desktop/workspace/oslash/src/components/Share/SharedMembers.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { useShareContext } from \"./ShareContext\";\nimport { _userToShareMember } from \"../../transforms\";\nimport SharedMember from './SharedMember';\n\nfunction SharedMembers() {\n    const {sharedUsers, setSharedUsers, allUsers, setAllUsers} = useShareContext();\n    \n    useEffect(() => {\n        console.log(\"all users \", allUsers);\n    }, [allUsers]) \n\n    const onPermissionChange = (val, userId) => {\n        console.log(val, userId);\n        // call update permission API\n        let sharedUserTemp = [];\n        sharedUserTemp = sharedUsers.map((su) => {\n            if (su.id === userId) {\n                su.permission = val.value;\n            }  \n            return su;\n        })  \n        setSharedUsers(temp);\n        let allUsersTemp = [];\n        allUsersTemp = allUsers.map((user) => {\n            if (user.id === userId) {\n                user.permission = val.value;\n            }\n            return user;  \n        })\n        setAllUsers(allUsersTemp);\n    }\n    \n    \n    return (<div style={{marginBottom: '40px'}} >\n                {\n                    _userToShareMember(sharedUsers).map((user) => {\n                        return <SharedMember permission={user.permission} onPermissionChange={(val) => onPermissionChange(val, user.id)} text={user.text} subText={user.subText} />\n                    })\n                }\n        </div>)\n}\n\nexport default SharedMembers;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,eAAT,QAAgC,gBAAhC;AACA,SAASC,kBAAT,QAAmC,kBAAnC;AACA,OAAOC,YAAP,MAAyB,gBAAzB;;;AAEA,SAASC,aAAT,GAAyB;EAAA;;EACrB,MAAM;IAACC,WAAD;IAAcC,cAAd;IAA8BC,QAA9B;IAAwCC;EAAxC,IAAuDP,eAAe,EAA5E;EAEAD,SAAS,CAAC,MAAM;IACZS,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BH,QAA1B;EACH,CAFQ,EAEN,CAACA,QAAD,CAFM,CAAT;;EAIA,MAAMI,kBAAkB,GAAG,CAACC,GAAD,EAAMC,MAAN,KAAiB;IACxCJ,OAAO,CAACC,GAAR,CAAYE,GAAZ,EAAiBC,MAAjB,EADwC,CAExC;;IACA,IAAIC,cAAc,GAAG,EAArB;IACAA,cAAc,GAAGT,WAAW,CAACU,GAAZ,CAAiBC,EAAD,IAAQ;MACrC,IAAIA,EAAE,CAACC,EAAH,KAAUJ,MAAd,EAAsB;QAClBG,EAAE,CAACE,UAAH,GAAgBN,GAAG,CAACO,KAApB;MACH;;MACD,OAAOH,EAAP;IACH,CALgB,CAAjB;IAMAV,cAAc,CAACc,IAAD,CAAd;IACA,IAAIC,YAAY,GAAG,EAAnB;IACAA,YAAY,GAAGd,QAAQ,CAACQ,GAAT,CAAcO,IAAD,IAAU;MAClC,IAAIA,IAAI,CAACL,EAAL,KAAYJ,MAAhB,EAAwB;QACpBS,IAAI,CAACJ,UAAL,GAAkBN,GAAG,CAACO,KAAtB;MACH;;MACD,OAAOG,IAAP;IACH,CALc,CAAf;IAMAd,WAAW,CAACa,YAAD,CAAX;EACH,CAnBD;;EAsBA,oBAAQ;IAAK,KAAK,EAAE;MAACE,YAAY,EAAE;IAAf,CAAZ;IAAA,UAEQrB,kBAAkB,CAACG,WAAD,CAAlB,CAAgCU,GAAhC,CAAqCO,IAAD,IAAU;MAC1C,oBAAO,QAAC,YAAD;QAAc,UAAU,EAAEA,IAAI,CAACJ,UAA/B;QAA2C,kBAAkB,EAAGN,GAAD,IAASD,kBAAkB,CAACC,GAAD,EAAMU,IAAI,CAACL,EAAX,CAA1F;QAA0G,IAAI,EAAEK,IAAI,CAACE,IAArH;QAA2H,OAAO,EAAEF,IAAI,CAACG;MAAzI;QAAA;QAAA;QAAA;MAAA,QAAP;IACH,CAFD;EAFR;IAAA;IAAA;IAAA;EAAA,QAAR;AAOH;;GApCQrB,a;UACwDH,e;;;KADxDG,a;AAsCT,eAAeA,aAAf"},"metadata":{},"sourceType":"module"}