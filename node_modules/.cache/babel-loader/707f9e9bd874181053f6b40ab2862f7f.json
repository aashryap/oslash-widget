{"ast":null,"code":"var _jsxFileName = \"/Users/tnluser/Documents/GitHub/oslash-widget/src/components/Share/ShareCard.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Card from \"../../common/Card\";\nimport \"./index.css\";\nimport Dropdown from '../../common/Dropdown';\nimport CardFooter from \"./Footer\";\nimport CardHeader from \"./Header\";\nimport { users, sharedData } from \"../../models/users\";\nimport { _userToDropdown, _userToShareMember } from \"../../transforms\";\nimport { useShareContext } from \"./ShareContext\";\nimport SharedMembers from \"./SharedMembers\";\nimport SearchFooterComponent from \"./SearchFooterComponent\";\nimport PersonOptionComponent from \"./PersonOptionComponent\";\nimport GroupOptionComponent from \"./GroupOptionComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction ShareCard(_ref) {\n  _s();\n\n  let {} = _ref;\n  useEffect(() => {\n    // we will call APIs and set the data \n    // setting data can happen in service layer I am diretly setting from here for assignments sake\n    setSharedUsers(sharedData);\n    setAllUsers(users);\n  }, []);\n  const [selectedUsers, setSelectedUsers] = useState([]);\n  const {\n    sharedUsers,\n    allUsers,\n    setSharedUsers,\n    setAllUsers\n  } = useShareContext();\n\n  const options = _userToDropdown(allUsers);\n\n  const handleInvite = () => {\n    let temp = [];\n\n    for (let i = 0; i < selectedUsers.length; i++) {\n      for (let j = 0; j < allUsers.length; j++) {\n        if (selectedUsers[i].id === allUsers[j].id) {\n          temp.push(allUsers[j]);\n        }\n      }\n    }\n\n    setSharedUsers([...sharedUsers, ...temp]);\n    setSelectedUsers([]);\n  };\n\n  const onUserSelect = function () {\n    let data = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    setSelectedUsers(data);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    style: {\n      width: '512px',\n      marginTop: '10px'\n    },\n    header: {\n      component: /*#__PURE__*/_jsxDEV(CardHeader, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 32\n      }, this)\n    },\n    footer: {\n      component: /*#__PURE__*/_jsxDEV(CardFooter, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 32\n      }, this)\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(Dropdown, {\n        isMulti: true,\n        placeHolder: \"People emails and groups\",\n        options: options.map(option => {\n          if ((option === null || option === void 0 ? void 0 : option.group) === \"person\") {\n            option.renderer = PersonOptionComponent;\n          } else if ((option === null || option === void 0 ? void 0 : option.group) === \"group\") {\n            option.renderer = GroupOptionComponent;\n          }\n\n          return option;\n        }),\n        isSearchable: true,\n        enableGrouping: true,\n        value: selectedUsers,\n        footerComponent: /*#__PURE__*/_jsxDEV(SearchFooterComponent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 42\n        }, this),\n        showCaretIcon: false,\n        rightCtaProps: {\n          onClick: handleInvite,\n          text: 'Invite',\n          visible: true\n        },\n        onChange: onUserSelect\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(SharedMembers, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 12\n  }, this);\n}\n\n_s(ShareCard, \"ZEc1Bmr3UTIm3//JdNm5aptZ8qY=\", false, function () {\n  return [useShareContext];\n});\n\n_c = ShareCard;\nexport default ShareCard;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShareCard\");","map":{"version":3,"names":["React","useEffect","useState","Card","Dropdown","CardFooter","CardHeader","users","sharedData","_userToDropdown","_userToShareMember","useShareContext","SharedMembers","SearchFooterComponent","PersonOptionComponent","GroupOptionComponent","ShareCard","setSharedUsers","setAllUsers","selectedUsers","setSelectedUsers","sharedUsers","allUsers","options","handleInvite","temp","i","length","j","id","push","onUserSelect","data","width","marginTop","component","map","option","group","renderer","onClick","text","visible"],"sources":["/Users/tnluser/Documents/GitHub/oslash-widget/src/components/Share/ShareCard.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Card from \"../../common/Card\";\nimport \"./index.css\";\nimport Dropdown from '../../common/Dropdown';\nimport CardFooter from \"./Footer\";\nimport CardHeader from \"./Header\";\nimport {users, sharedData} from \"../../models/users\";\nimport { _userToDropdown, _userToShareMember } from \"../../transforms\";\nimport { useShareContext } from \"./ShareContext\";\nimport SharedMembers from \"./SharedMembers\";\nimport SearchFooterComponent from \"./SearchFooterComponent\";\nimport PersonOptionComponent from \"./PersonOptionComponent\";\nimport GroupOptionComponent from \"./GroupOptionComponent\";\n\nfunction ShareCard({}) {\n    useEffect(() => {\n        // we will call APIs and set the data \n        // setting data can happen in service layer I am diretly setting from here for assignments sake\n        setSharedUsers(sharedData);\n        setAllUsers(users);\n    }, [])\n\n    const [selectedUsers, setSelectedUsers] = useState([]);\n\n    const {sharedUsers, allUsers, setSharedUsers, setAllUsers} = useShareContext();\n\n    const options = _userToDropdown(allUsers);\n    \n    const handleInvite = () => {\n        let temp = [];\n        for (let i=0;i<selectedUsers.length;i++) {\n            for (let j=0;j<allUsers.length;j++) {\n                if (selectedUsers[i].id === allUsers[j].id) {\n                    temp.push(allUsers[j]);\n                }\n            }\n        }\n        setSharedUsers([...sharedUsers, ...temp]);\n        setSelectedUsers([]);\n    }\n\n    const onUserSelect = (data = []) => {\n        setSelectedUsers(data);\n    }\n\n    return <Card\n                style={{\n                    width: '512px',\n                    marginTop: '10px'\n                }}\n                header={{\n                    component: <CardHeader />\n                }}\n                footer= {{\n                    component: <CardFooter />,\n                }}\n            >\n                <div>\n                    <Dropdown \n                        isMulti={true}\n                        placeHolder={\"People emails and groups\"}\n                        options={options.map((option) => {\n                            if (option?.group === \"person\") {\n                                option.renderer = PersonOptionComponent;\n                            } else if (option?.group === \"group\") {\n                                option.renderer = GroupOptionComponent;\n                            }\n                            return option;\n                        })\n                        }\n                        isSearchable={true}\n                        enableGrouping\n                        value={selectedUsers}\n                        footerComponent={<SearchFooterComponent />}\n                        showCaretIcon={false}\n                        rightCtaProps={{\n                            onClick:handleInvite,\n                            text: 'Invite',\n                            visible: true,\n                        }}\n                        onChange={onUserSelect}\n                    />\n                </div>\n            <SharedMembers />\n            </Card>\n}\n\n\nexport default ShareCard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}